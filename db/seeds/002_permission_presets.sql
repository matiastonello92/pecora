-- 002_permission_presets.sql
-- Seed global permission presets and items

-- =====================================================
-- 1. PRESETS
-- =====================================================

INSERT INTO permission_presets (id, code, name) VALUES
    ('60000000-0000-0000-0000-000000000001', 'admin_full', 'Admin Full'),
    ('60000000-0000-0000-0000-000000000002', 'manager_standard', 'Manager Standard'),
    ('60000000-0000-0000-0000-000000000003', 'staff_kitchen', 'Staff Kitchen'),
    ('60000000-0000-0000-0000-000000000004', 'staff_dining', 'Staff Dining')
ON CONFLICT (code) DO NOTHING;

-- =====================================================
-- 2. PRESET ITEMS
-- =====================================================

-- Admin Full: all permissions
INSERT INTO permission_preset_items (preset_id, permission_id, allow) VALUES
    ('60000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000001', true),
    ('60000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000002', true),
    ('60000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000003', true),
    ('60000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000004', true),
    ('60000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000005', true),
    ('60000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000006', true),
    ('60000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000007', true),
    ('60000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000008', true),
    ('60000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000009', true),
    ('60000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000010', true),
    ('60000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000011', true),
    ('60000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000012', true)
ON CONFLICT (preset_id, permission_id) DO NOTHING;

-- Manager Standard subset
INSERT INTO permission_preset_items (preset_id, permission_id, allow) VALUES
    ('60000000-0000-0000-0000-000000000002', '30000000-0000-0000-0000-000000000001', true),
    ('60000000-0000-0000-0000-000000000002', '30000000-0000-0000-0000-000000000003', true),
    ('60000000-0000-0000-0000-000000000002', '30000000-0000-0000-0000-000000000005', true),
    ('60000000-0000-0000-0000-000000000002', '30000000-0000-0000-0000-000000000006', true),
    ('60000000-0000-0000-0000-000000000002', '30000000-0000-0000-0000-000000000008', true)
ON CONFLICT (preset_id, permission_id) DO NOTHING;

-- Staff Kitchen subset
INSERT INTO permission_preset_items (preset_id, permission_id, allow) VALUES
    ('60000000-0000-0000-0000-000000000003', '30000000-0000-0000-0000-000000000001', true),
    ('60000000-0000-0000-0000-000000000003', '30000000-0000-0000-0000-000000000003', true),
    ('60000000-0000-0000-0000-000000000003', '30000000-0000-0000-0000-000000000008', true)
ON CONFLICT (preset_id, permission_id) DO NOTHING;

-- Staff Dining subset
INSERT INTO permission_preset_items (preset_id, permission_id, allow) VALUES
    ('60000000-0000-0000-0000-000000000004', '30000000-0000-0000-0000-000000000001', true),
    ('60000000-0000-0000-0000-000000000004', '30000000-0000-0000-0000-000000000003', true)
ON CONFLICT (preset_id, permission_id) DO NOTHING;

-- =====================================================
-- SEED COMPLETE
-- =====================================================

DO $$
BEGIN
    RAISE NOTICE 'Permission presets seed 002 completed';
END $$;
